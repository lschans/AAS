<script>
    $(function(){
        var iosocket = io.connect();
        iosocket.on('connect', function () {
            $('#incomingChatMessages').append($('<li>Connected</li>'));
            iosocket.on('message', function(message) {
                $('#incomingChatMessages').append($('<li></li>').text(message));
                $("#scrollContainer").scrollTop($("#scrollContainer")[0].scrollHeight);
            });
            iosocket.on('disconnect', function() {
                $('#incomingChatMessages').append('<li>Disconnected</li>');
            });
        });

        $('#outgoingChatMessage').keypress(function(event) {
            if(event.which == 13) {
                event.preventDefault();
                iosocket.send($('#outgoingChatMessage').val());
                $('#incomingChatMessages').append($('<li></li>').text($('#outgoingChatMessage').val()));
                $('#outgoingChatMessage').val('');
            }
        });
    });
</script>
<div class="chat">
    <span>Incoming Chat: </span>
    <div id="scrollContainer" class="scrollContainer">
        <ul id="incomingChatMessages"></ul>
    </div>
    <input type="text" id="outgoingChatMessage">
</div>