/*
 * Cookie module
 *
 * Description:  This module gets and sets cookies
 *-----------------------------------------------------
 * Author: Lars van der Schans
 * Email:  lars@wodanbrothers.com
 *-----------------------------------------------------
 */

var config = {};

module.exports = function(server) {
    config = server.config;

    return {
        getCookies : function(request, response, callback) {
            var cookies = {};
            if(typeof (request.headers.cookie) !== 'undefined') {
                request.headers && request.headers.cookie.split(';').forEach(function (cookie) {
                    var parts = cookie.match(/(.*?)=(.*)$/)
                    cookies[parts[1].trim()] = (parts[2] || '').trim();
                });
                request.cookies = cookies;
            }
            callback(request, response);
        },
        setCookie : function(request, response, cookie, callback) {
            // Add cookie to cookie array
        },
        deleteCookie : function(request, response, cookie, callback) {
            // Add cookie to cookie array
        }
    }
}