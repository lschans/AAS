/*
 * HTTP Server for angular-server-with-sockets
 *
 * Description:  http server
 *-----------------------------------------------------
 * Author: Lars van der Schans
 * Email:  lars@wodanbrothers.com
 *-----------------------------------------------------
 */

var http = require('http'),
    config = {},
    log = {};

module.exports = function(server) {
    config = server.config;
    log = server.log;

    return {
        server : function(callback) {
            http.createServer(function (request, response) {
                callback(request, response);
            }).listen(config.global.httpPort);
            log.writeLog({message:'online', domain:'server', port:config.global.httpPort});
            if (config.global.verbose === true) console.log('HTTP-Server started on port ' + config.global.httpPort);
        }
    }
}